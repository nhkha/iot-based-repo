<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mo Hinh Giam Sat Moi Truong</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>
<style>
    body {max-width: 600px; margin:0px auto; padding-bottom: 25px;}
    h4 {text-align: center; font-size: 20px;}
    .switch {position: relative; display: inline-block; width: 106px; height: 54px} 
    .switch input {display: none}
    .slider {position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; border-radius: 32px}
    .slider:before {position: absolute; content: ""; height: 39px; width: 39px; left: 8px; bottom: 8px; background-color: #fff; -webkit-transition: .4s; transition: .4s; border-radius: 25px}
    input:checked+.slider {background-color: #00b39e}
    input:checked+.slider:before {-webkit-transform: translateX(52px); -ms-transform: translateX(52px); transform: translateX(52px)}
</style>
<body style="max-width: 1000px; margin:2px auto; padding-bottom: 300px; border: 2px solid black; border-radius:10px; " >
  <header style="padding: 0.01em;
    border-radius:11px;
color: white;
    background-color: #059e8a;
    clear: left;
    text-align: center;
    font-size: 1.0rem; ">
  <img src="https://upload.wikimedia.org/wikipedia/vi/c/cd/Logo-hcmut.svg" alt="logo" width="80" height="80" align="left" />
  <h1>Giam Sat Moi Truong &emsp;&emsp;&emsp;</h1><br>
  </header>
  <p>
    <h2 style="text-align: center">Temperature</h2>
    <h2 style="text-align: center"><span id="temperature"> %TEMPERATURE%  </span>&deg;C</h2>
  </p>
  <p>
    <h2 style="text-align: center">Humidity</h2>
    <h2 style="text-align: center"><span id="humidity"> %HUMIDITY%  </span>&percnt;</h2>
  <p>
    <h2 style="text-align: center">Moisture</h2>
    <h2 style="text-align: center"><span id="moisture">%MOISTURE% </span>&percnt;</h2>
  </p>
  <p>
    <h2 style=" text-align: center" ><span class="dht-labels"> Current Mode : <span style="color: red;">%MODE%</span></span></h2>
  </p>
 
 
          <form action="/getparam_1">
          <h2 style="text-align: left">&emsp;&emsp;&emsp;Temperature SP  &ensp; <input style="font-size:25px; text-align: center" type='number' name='temp_val' id='temp_val' size=1 min=0 max=100 autofocus>  &ensp; ( CurrentValue : &ensp;%TEMPSP% ) </h2>
<h2 style="text-align: left">&emsp;&emsp;&emsp;Humidity SP &emsp; &ensp;&ensp;<input style="font-size:25px; text-align: center" type='number' name='humid_val' id='humid_val' size=1 min=0 max=100 autofocus> &ensp; ( CurrentValue : &ensp;%HUMIDSP% ) </h2>
 
          <h2 style="text-align: left">&emsp;&emsp;&emsp;Moisture SP &emsp; &ensp; &ensp;<input style="font-size:25px; text-align: center " type='number' name='mois_val'  id='mois_val' size=1 min=0 max=100 autofocus>  &ensp; ( CurrentValue : &ensp; %MOISSP% )</h2>
 
          <h2 style="text-align: center;"><label style="font-size: 20px; text-align: center;" for="mode">Choose mode </label>
          <select style="font-size: 20px; " name="mode" id="mode">
            <option value="Auto">Auto</option>
            <option value="Manual">Manual</option>
          </select><br><br>
          <input style="box-shadow: 0px 0px 0px 2px #9fb4f2;
                  background:linear-gradient(to bottom, #7892c2 5%, #476e9e 100%);
                  background-color:#7892c2;
                  border-radius:10px;
                  border:1px solid #4e6096;
                  display:inline-block;
                  cursor:pointer;
                  color:#ffffff;
                  font-family:Arial;
                  font-size:19px;
                  padding:12px 37px;
                  text-decoration:none;
                  text-shadow:0px 1px 0px #283966;" type="submit" value="Submit"></h2>
          </form>
          %ON/OFF%
</body>
<script> 
function toggleCheckbox(element) {
var xhr = new XMLHttpRequest();
  if(element.checked){ xhr.open("GET", "/update?output="+element.id+"&state=1", true); }
  else { xhr.open("GET", "/update?output="+element.id+"&state=0", true); }
  xhr.send();
}
setInterval(function ( ) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("temperature").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "/temperature", true);
  xhttp.send();
}, 10000 ) ;
//-------------------------------------------------------
setInterval(function ( ) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("humidity").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "/humidity", true);
  xhttp.send();
}, 10000 ) ;
//-------------------------------------------------------
setInterval(function ( ) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("moisture").innerHTML = this.responseText;
 }
  };
  xhttp.open("GET", "/moisture", true);
  xhttp.send();
}, 10000 ) ;
</script>
</html>

    
</head>
<body>
    
</body>
</html>